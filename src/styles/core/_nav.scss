/**
 * This source file is part of the Swift.org open source project
 *
 * Copyright (c) 2021-2024 Apple Inc. and the Swift project authors
 * Licensed under Apache License v2.0 with Runtime Library Exception
 *
 * See https://swift.org/LICENSE.txt for license information
 * See https://swift.org/CONTRIBUTORS.txt for Swift project authors
*/

// Shared variables related to /documentation pages
$nav-height: rem(52px);
$nav-height-small: rem(48px);
$nav-padding: rem(22px);
$nav-padding-small: rem(16px);
$nav-menu-item-left-margin: rem(24px);
$nav-menu-items-ios-bottom-spacing: 10em;
$nav-timingfunction: cubic-bezier(0.28, 0.11, 0.32, 1) !default;
$nav-menu-tray-transition: max-height 0.5s $nav-timingfunction 0.4s, visibility 0s linear 1s !default;
$nav-items-timingfunction: cubic-bezier(0.23, 1, 0.32, 1) !default;
$nav-menu-items-displacement: translate3d(0, -150px, 0) !default;
$nav-menu-item-left-margin: rem(24px);
$nav-menu-item-displacement: translate3d(0, -25px, 0) !default;
$nav-menu-item-stagger-delay: 0.07s !default;
$nav-bg-transition-timing: 0s !default;
$nav-bg-color-transition: $nav-bg-transition-timing $nav-timingfunction !default;
$nav-space-between-elements: rem(10px);
$nav-space-hierarchy-elements: rem(5px);
$nav-z-index: 9997;

@mixin nav-in-breakpoint($nested: false) {
  @include unify-selector('.nav--in-breakpoint-range', $nested) {
    @content;
  }
}

@mixin nav-is-open($nested: false) {
  @include unify-selector('.nav--is-open', $nested) {
    @content;
  }
}

@mixin nav-is-sticking($nested: false) {
  @include unify-selector('.nav--is-sticking', $nested) {
    @content;
  }
}

@mixin nav-dark($nested: false) {
  @include unify-selector('.theme-dark', $nested) {
    @content;
  }
}

@mixin nav-is-wide-format($nested: false) {
  @include unify-selector('.nav--is-wide-format', $nested) {
    @content;
  }
}

/// Chevron Helpers

$nav-chevron-angle: 40deg;
$nav-chevron-thickness: 1.5;
$nav-chevron-transition: transform 1s cubic-bezier(0.86, 0, 0.07, 1), transform-origin 1s cubic-bezier(0.86, 0, 0.07, 1);
$nav-menu-label-margin: rem(5px);

// Apply styles to animate the nav chevron downwards
@mixin nav-chevron-animation {
  &::before {
    transform-origin: 100% 100%;
    transform: rotate(#{$nav-chevron-angle}) scaleY($nav-chevron-thickness);
  }

  &::after {
    transform-origin: 0% 100%;
    transform: rotate(-#{$nav-chevron-angle}) scaleY($nav-chevron-thickness);
  }

  @include nav-is-open {
    transform: scale(1, -1);
  }
}
